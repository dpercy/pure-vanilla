main = (input) ->
  let triangles = parse(input) in
  show([
    length(filter(isTrianglePossible, triangles)),
    length(filter(isTrianglePossible, flip3(triangles))),
  ])


parse = (input) -> map(parseLine, splitlines(input))
parseLine = (line) -> map(parseInt, splitwords(line))

isTrianglePossible = (tri) ->
  let tri = sort(tri) in
  let a = first(tri) in
  let b = first(rest(tri)) in
  let c = first(rest(rest(tri))) in
  # TODO define and use (>) operator
  c < (a + b)

flip3 = (triangles) ->
  foldr(append, [], map(transpose, chunk(3, triangles)))
